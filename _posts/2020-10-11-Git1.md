---
title:  "GIT-1 (Version)"
excerpt: "GIT의 첫번째 사용법 - Version(버전 관리) / git을 사용한 버전관리"

categories:
  - GIT
tags:
  - Git
  - 10월

toc: true
toc_sticky: true
toc_label: 페이지 목차

---

> 해당 포스팅은 git의 '버전관리'에 대한 간단한 설명과 코드 위주로 작성되어 있습니다.   
~~사실상 제가 까먹지 않으려고 저장하는 셈입니다~~  

> 해당 코드는 `git bash`에서 진행됩니다. 

## 1. 버전생성과 파일수정
  git을 사용함에 있어서 사용자는 기본적으로 일련의 과정을 거친다. git폴더를 처음 지정하고, 파일을 작업한 이후 commit하는 과정까지의 순서로 방법을 작성해보겠다.

  1. `git init [폴더명]` (버전관리 폴더 생성)
  - 폴더를 '버전 관리'할 수 있게 만들어준다.  
  - .git폴더가 생성되며, 버전을 관리할 수 있게 해준다. 즉, `역사(history)`가 생긴다.
  - 초기에 폴더를 생성할 때, 한 번만 실행한다.  


  2. 파일 작업 및 수정
  - `.git`폴더가 생긴 파일 안에서 파일을 추가하고 수정하면서 작업을 진행한다.
  

  3. `git status` (깃의 상태 확인)
  - 파일을 작업한 이후 현재 git의 상태를 확인할 수 있다.
  - 새로운 수정 사항이 생긴 경우 해당 파일이 표시된다.


  4. `git add [파일명]` 
  - version업데이트를 하기 위한 작업, commit하고자 하는 파일을 선택한다.


  5. `git commit -m "커밋 메시지"` (버전추가)
  -  버전을 추가하는 것. "커밋 메시지"를 통해 어떤 수정사항 등이 있었는 지 적는다.
  - add를 통해 선택한 파일들을 버전업 시킨다. 


  6. `git log`
  - 해당 폴더 내의 history 즉, version들을 확인할 수 있다.

## 2. 버전 관리
 이전 버전으로 돌아가고 싶으면, HEAD를 이전 버전을 선택하게 한다. 이때 최근 버전은 사라지는 게 아니다.

- `git log`를 통해서 버전의 아이디를 확인한다. 해당 버전의 아이디를 확인했다면 `git checkout`을 통해 이전 버전으로 돌아갈 수 있다.

- `git checkout [commit코드]`: 이전 버전으로 돌아간다.
- `git checkout master`: 가장 최근의 버전에 해당하는 'master'로 돌아간다.


## 3. add-commit과 버전삭제

**add와 commit동시 진행**
- `git commit -am "커밋메시지"`: 자동으로 add를 하면서 commit을 실행할 수 있다. 
  - 단, 이 경우 처음 생성된 파일의 경우 별도로 add를 해주거나 `git add .`을 이용해서 git이 track할 수 있게 설정해야 한다.

**reset**
- 해당 버전으로 'reset'하겠다는 뜻의 reset이다.  
- `git reset --hard [version 아이디]`: 위에 수정되는 것들도 다 지우고, 이전 버전으로 돌아간다. (--hard모드 때문)

**revert**
- `git revert [version 아이디]`  
- 삭제와 보존을 동시에 진행한다. 
- 이전 버전이 되고 싶다면, 현재 버전의 아이디를 통해 revert한다. 
- 만약 한참 이전의 버전으로 가고 싶다면 순서대로 revert해야 한다. 그렇지 않으면 confict가 발생한다. 


## 4. add를 하는 이유
git 버전관리를 함에 있어 add이후 commit을 하는 이유에 대한 설명이라고 할 수 있다. 파일들은 **우리가 작업하는 공간(working tree)**에서 바로 **버전등록(Repository)**이 되지 않는다. 왜냐하면 우리가 작업한 파일 중에 버전으로 등록하고 싶지 않은 파일도 있을 수 있기 때문이다. 그래서 **별도의 공간(Staging Area)**을 두어 버전을 만들 파일들을 걸러내는 작업을 진행한다. 

- Working tree: 파일을 수정하는 곳, 수정한 파일들
- Staging Area: 버전을 만들려고 하는 파일들
- Repository: 만들어진 버전

## 리눅스 쉘 명령어 (기초)

**※ [디렉토리명], [파일명]의 경우 '[]' 대괄호 부분을 제외하고 입력**

- `cd [디렉토리명]`: 폴더 이동
- `cd ..`: 이전 폴더로 이동
- `ls -al`: 리스트 목록 확인
- `nano [파일명]`: 파일을 생성
- `cat [파일명]` : 파일의 내용을 출력

## 기본 명령어 및 용어

- `git status`: git의 상태를 확인
- `git add [파일명]`: Staging Area에 올리는 것 
  - add를 파일 하나하나 지정할 필요없이 `git add .(dot)`으로 모두 지정할 수 있다.
- `git commit -m "커밋 메세지"`: 버전으로 옮겨진다.
  - `git commit` 을 통해 여러 줄의 커밋 메세지를 이용할 수 있다.
- `git log`: 깃의 역사를 엿볼 수 있다. (누가, 언제 수정했는가)
- `git log --stat`: 버전별 목록 확인 가능 "q"를 통해 나간다.
- `git diff`: 바뀐 부분을 보여준다.
└ `diff tool`을 통해서 확인할 수 있다. 
- `git reset --hard`: 수정한 부분을 날리고, 이전 버전으로 돌아간다.
- `git log -p`: 이전 버전과 비교해서 추가되고, 삭제된 부분을 비교할 수 있다.
- `git checkout [commit코드]`: 이전 버전으로 돌아간다.
- `git checkout master`: master branch로 돌아간다.
- .gitignore(폴더): 무시하고 싶은 파일을 지정할 수 있다. 

----------


### 참고
[오픈듀토리얼스-GIT1 강의(버전관리)](https://opentutorials.org/course/3839)